<!DOCTYPE html>
<html lang="zh-cn">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="zh-cn">
    <meta name="color-scheme" content="light dark">

    

    <meta name="author" content="OnlyHy">
    <meta name="description" content="修改文档（document）    document.createElement(tag) document.createTextNode(text) 作为文本插入：node.append/prepend/before/after/replaceWith 作为HTML代码插入：elem.insertAdjacentHTML(where, html) where：beforebegin、afterbegin、beforeend、afterend 作为文本插入：elem.insertAdjacentText(where, text) 插入元素：elem.insertAdjacentElement(where, elem) 移除节点：node.remove() 所有插入方法都会自动从旧位置删除该节点 elem.cloneNode(true/false) true：深克隆包括所有特性和子元素 false：不包括子元素 new DocumentFragment() 传递节点列表的包装器 document.write 调用只在页面加载时工作，如果加载完成后调用，那现有的文档内容会被擦除
样式和类    className classList(add,remove,toggle,contains) style.cssText 完全重写样式 getComputedStyle(element,[pseudo伪元素]) 读取样式
元素大小和滚动    offsetParent是最接近的祖先：
 CSS 定位的（position 为 absolute，relative 或 fixed） 或 ，，， 或    offsetLeft/offsetTop 提供相对于 offsetParent 左上角的 x/y 坐标 offsetWidth/Height：完整大小（包括边框） 未显示的元素，offsetWidth/Height为0 clientTop/Left 内侧与外侧的相对坐标（如果滚动条在左边，clientLeft还包括滚动条的宽度） clientWidth/Height content&#43;padding 不包括滚动条 scrollWidth/Height 类似clientWidth/Height但还包括滚动出（隐藏）的部分 scrollLeft/scrollTop 元素隐藏、滚动部分的width/height （就是已经滚动了多少）是可修改的，浏览器会滚动该元素  除了 scrollLeft/scrollTop 外，所有属性都是只读的">
    <meta name="keywords" content="onlyhy">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="现代JS教程[第二部分（二）]"/>
<meta name="twitter:description" content="修改文档（document）    document.createElement(tag) document.createTextNode(text) 作为文本插入：node.append/prepend/before/after/replaceWith 作为HTML代码插入：elem.insertAdjacentHTML(where, html) where：beforebegin、afterbegin、beforeend、afterend 作为文本插入：elem.insertAdjacentText(where, text) 插入元素：elem.insertAdjacentElement(where, elem) 移除节点：node.remove() 所有插入方法都会自动从旧位置删除该节点 elem.cloneNode(true/false) true：深克隆包括所有特性和子元素 false：不包括子元素 new DocumentFragment() 传递节点列表的包装器 document.write 调用只在页面加载时工作，如果加载完成后调用，那现有的文档内容会被擦除
样式和类    className classList(add,remove,toggle,contains) style.cssText 完全重写样式 getComputedStyle(element,[pseudo伪元素]) 读取样式
元素大小和滚动    offsetParent是最接近的祖先：
 CSS 定位的（position 为 absolute，relative 或 fixed） 或 ，，， 或    offsetLeft/offsetTop 提供相对于 offsetParent 左上角的 x/y 坐标 offsetWidth/Height：完整大小（包括边框） 未显示的元素，offsetWidth/Height为0 clientTop/Left 内侧与外侧的相对坐标（如果滚动条在左边，clientLeft还包括滚动条的宽度） clientWidth/Height content&#43;padding 不包括滚动条 scrollWidth/Height 类似clientWidth/Height但还包括滚动出（隐藏）的部分 scrollLeft/scrollTop 元素隐藏、滚动部分的width/height （就是已经滚动了多少）是可修改的，浏览器会滚动该元素  除了 scrollLeft/scrollTop 外，所有属性都是只读的"/>

    <meta property="og:title" content="现代JS教程[第二部分（二）]" />
<meta property="og:description" content="修改文档（document）    document.createElement(tag) document.createTextNode(text) 作为文本插入：node.append/prepend/before/after/replaceWith 作为HTML代码插入：elem.insertAdjacentHTML(where, html) where：beforebegin、afterbegin、beforeend、afterend 作为文本插入：elem.insertAdjacentText(where, text) 插入元素：elem.insertAdjacentElement(where, elem) 移除节点：node.remove() 所有插入方法都会自动从旧位置删除该节点 elem.cloneNode(true/false) true：深克隆包括所有特性和子元素 false：不包括子元素 new DocumentFragment() 传递节点列表的包装器 document.write 调用只在页面加载时工作，如果加载完成后调用，那现有的文档内容会被擦除
样式和类    className classList(add,remove,toggle,contains) style.cssText 完全重写样式 getComputedStyle(element,[pseudo伪元素]) 读取样式
元素大小和滚动    offsetParent是最接近的祖先：
 CSS 定位的（position 为 absolute，relative 或 fixed） 或 ，，， 或    offsetLeft/offsetTop 提供相对于 offsetParent 左上角的 x/y 坐标 offsetWidth/Height：完整大小（包括边框） 未显示的元素，offsetWidth/Height为0 clientTop/Left 内侧与外侧的相对坐标（如果滚动条在左边，clientLeft还包括滚动条的宽度） clientWidth/Height content&#43;padding 不包括滚动条 scrollWidth/Height 类似clientWidth/Height但还包括滚动出（隐藏）的部分 scrollLeft/scrollTop 元素隐藏、滚动部分的width/height （就是已经滚动了多少）是可修改的，浏览器会滚动该元素  除了 scrollLeft/scrollTop 外，所有属性都是只读的" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://onlyhy.github.io/posts/2021-12-14-%E7%8E%B0%E4%BB%A3js%E6%95%99%E7%A8%8B%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%E4%BA%8C/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-12-14T09:00:00+08:00" />
<meta property="article:modified_time" content="2021-12-14T09:00:00+08:00" />



    <title>
  现代JS教程[第二部分（二）] · oooonlyhy
</title>

    
      <link rel="canonical" href="http://onlyhy.github.io/posts/2021-12-14-%E7%8E%B0%E4%BB%A3js%E6%95%99%E7%A8%8B%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%E4%BA%8C/">
    

    <link rel="preload" href="/fonts/forkawesome-webfont.woff2?v=1.2.0" as="font" type="font/woff2" crossorigin>

    
      
      
      <link rel="stylesheet" href="/css/coder.min.d9fddbffe6f27e69985dc5fe0471cdb0e57fbf4775714bc3d847accb08f4a1f6.css" integrity="sha256-2f3b/&#43;byfmmYXcX&#43;BHHNsOV/v0d1cUvD2Eesywj0ofY=" crossorigin="anonymous" media="screen" />
    

    

    

    

    

    <link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">

    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

    <meta name="generator" content="Hugo 0.91.0" />
  </head>

  
  
  <body class="preload-transitions colorscheme-light">
    

    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="/">
      oooonlyhy
    </a>
    
      <input type="checkbox" id="menu-toggle" />
      <label class="menu-button float-right" for="menu-toggle">
        <i class="fa fa-bars fa-fw" aria-hidden="true"></i>
      </label>
      <ul class="navigation-list">
        
          
            <li class="navigation-item">
              <a class="navigation-link" href="/">首页</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/posts/">归档</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/categories/">分类</a>
            </li>
          
            <li class="navigation-item">
              <a class="navigation-link" href="/about/">关于我</a>
            </li>
          
        
        
      </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">
            <a class="title-link" href="http://onlyhy.github.io/posts/2021-12-14-%E7%8E%B0%E4%BB%A3js%E6%95%99%E7%A8%8B%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%E4%BA%8C/">
              现代JS教程[第二部分（二）]
            </a>
          </h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fa fa-calendar" aria-hidden="true"></i>
              <time datetime='2021-12-14T09:00:00&#43;08:00'>
                December 14, 2021
              </time>
            </span>
            <span class="reading-time">
              <i class="fa fa-clock-o" aria-hidden="true"></i>
              阅读时间：1 分钟
            </span>
          </div>
          <div class="authors">
    <i class="fa fa-user" aria-hidden="true"></i>
      <a href="/authors/onlyhy/">onlyhy</a></div>
          <div class="categories">
  <i class="fa fa-folder" aria-hidden="true"></i>
    <a href="/categories/%E7%8E%B0%E4%BB%A3js%E6%95%99%E7%A8%8B/">现代JS教程</a></div>

          
        </div>
      </header>

      <div>
        
        <h5 id="修改文档document">
  修改文档（document）
  <a class="heading-link" href="#%e4%bf%ae%e6%94%b9%e6%96%87%e6%a1%a3document">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h5>
<p>document.createElement(tag)
document.createTextNode(text)
作为文本插入：node.append/prepend/before/after/replaceWith
作为HTML代码插入：elem.<strong>insertAdjacentHTML</strong>(where, html)
where：beforebegin、afterbegin、beforeend、afterend
作为文本插入：elem.insertAdjacentText(where, text)
插入元素：elem.insertAdjacentElement(where, elem)
移除节点：node.remove()
所有插入方法都会自动从旧位置删除该节点
elem.cloneNode(true/false) true：深克隆包括所有特性和子元素 false：不包括子元素
new <strong>DocumentFragment</strong>() 传递节点列表的包装器
document.write 调用只在页面加载时工作，如果加载完成后调用，那现有的文档内容会被擦除</p>
<h5 id="样式和类">
  样式和类
  <a class="heading-link" href="#%e6%a0%b7%e5%bc%8f%e5%92%8c%e7%b1%bb">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h5>
<p>className
<strong>classList(add,remove,toggle,contains)</strong>
<strong>style.cssText</strong> <strong>完全重写</strong>样式
<strong>getComputedStyle</strong>(element,[pseudo伪元素]) 读取样式</p>
<h5 id="元素大小和滚动">
  元素大小和滚动
  <a class="heading-link" href="#%e5%85%83%e7%b4%a0%e5%a4%a7%e5%b0%8f%e5%92%8c%e6%bb%9a%e5%8a%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h5>
<p><img src="evernotecid://AD55C2FF-DB70-4AF5-9F57-2A1073AF7668/appyinxiangcom/17648251/ENResource/p1061" alt="a67cb6d1b700237939b008b961eb30c1.png"></p>
<p>offsetParent是最接近的祖先：</p>
<ol>
<li>CSS 定位的（position 为 absolute，relative 或 fixed）</li>
<li>或 <td>，<th>，<table>，</li>
<li>或 <body></li>
</ol>
<ul>
<li>offsetLeft/offsetTop 提供相对于 offsetParent 左上角的 x/y 坐标</li>
<li>offsetWidth/Height：完整大小（包括边框）
未显示的元素，offsetWidth/Height为0</li>
<li>clientTop/Left  内侧与外侧的相对坐标（如果滚动条在左边，clientLeft还包括滚动条的宽度）</li>
<li>clientWidth/Height content+padding 不包括滚动条</li>
<li>scrollWidth/Height 类似clientWidth/Height但还包括滚动出（隐藏）的部分</li>
<li>scrollLeft/scrollTop 元素隐藏、滚动部分的width/height （就是已经滚动了多少）是可修改的，浏览器会滚动该元素</li>
</ul>
<p><strong>除了 scrollLeft/scrollTop 外，所有属性都是只读的</strong></p>
<h5 id="window大小和滚动">
  Window大小和滚动
  <a class="heading-link" href="#window%e5%a4%a7%e5%b0%8f%e5%92%8c%e6%bb%9a%e5%8a%a8">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h5>
<ul>
<li>窗口（window）的宽度和高度：document.documentElement 的 clientWidth/clientHeight（不包括滚动条）</li>
<li>window.innerWidth/innerHeight 包括了滚动条</li>
<li>文档的width/height：采用这些属性的最大值：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">let scrollHeight <span style="color:#f92672">=</span> Math.max<span style="color:#f92672">(</span>
  document.body.scrollHeight, document.documentElement.scrollHeight,
  document.body.offsetHeight, document.documentElement.offsetHeight,
  document.body.clientHeight, document.documentElement.clientHeight
<span style="color:#f92672">)</span>;
</code></pre></div><ul>
<li><strong>获取当前滚动：window.pageXOffset/pageYOffset</strong></li>
</ul>
<p><strong>必须在 DOM 完全构建好之后才能通过 JavaScript 滚动页面。</strong></p>
<ul>
<li>
<p>window.scrollBy(x,y)：将页面滚动至 相对于当前位置的 (x, y) 位置。scrollBy(0,10) 会将页面向下滚动 10px。</p>
</li>
<li>
<p>window.scrollTo(pageX, pageY)：将页面滚动至 绝对坐标。scrollTo(0,0)滚动到最开始。</p>
</li>
<li>
<p>elem.scrollIntoView(top)：</p>
<ol>
<li>top=true(默认)，页面滚动，使 elem 出现在窗口顶部。元素的上边缘将与窗口顶部对齐。</li>
<li>top=false，页面滚动，使 elem 出现在窗口底部。元素的底部边缘将与窗口底部对齐。</li>
</ol>
</li>
<li>
<p>禁止滚动：document.body.style.overflow = &ldquo;hidden&rdquo;</p>
</li>
</ul>
<h5 id="坐标">
  坐标
  <a class="heading-link" href="#%e5%9d%90%e6%a0%87">
    <i class="fa fa-link" aria-hidden="true"></i>
  </a>
</h5>
<p>相对于窗口：clientX/clientY
相对于文档：pageX/pageY
pageY = clientY + 文档的垂直滚动出的部分的高度
pageX = clientX + 文档的水平滚动出的部分的宽度</p>
<p><img src="evernotecid://AD55C2FF-DB70-4AF5-9F57-2A1073AF7668/appyinxiangcom/17648251/ENResource/p1062" alt="752b83c1bdbbadb18fd0c40c75cda77d.png"></p>
<p>元素坐标：<strong>elem.getBoundingClientRect()</strong> 返回最小矩形的<strong>窗口坐标</strong></p>
<blockquote>
<ol>
<li>x/y — 矩形原点相对于窗口的 X/Y 坐标（IE不支持）</li>
<li>width/height — 矩形的 width/height（可以为负）</li>
<li>top/bottom — 顶部/底部矩形边缘的 Y 坐标</li>
<li>left/right — 左/右矩形边缘的 X 坐标</li>
<li>坐标可能是小数</li>
<li>坐标可能为负，比如elem滚动到窗口的上方，那top就为负数
<img src="evernotecid://AD55C2FF-DB70-4AF5-9F57-2A1073AF7668/appyinxiangcom/17648251/ENResource/p1063" alt="45902b8c4f06f6ce884daa8985e1bf4e.png"></li>
</ol>
</blockquote>
<p>document.<strong>elementFromPoint</strong>(x, y) 的调用会返回在窗口坐标 (x, y) 处嵌套最多（the most nested）的元素。如果是窗口之外的坐标，则会返回null</p>
<ol>
<li>相对于窗口的坐标：elem.getBoundingClientRect()</li>
<li>相对于文档的坐标：elem.getBoundingClientRect()+页面滚动距离</li>
</ol>
<p>窗口坐标非常适合和 position:fixed 一起使用，文档坐标非常适合和 position:absolute 一起使用。</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    ©
    
      2017 -
    
    2021
     OnlyHy 
    ·
    技术支持 <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a>.
    
  </section>
</footer>

    </main>

    
      
      <script src="/js/coder.min.03b17769f4f91ae35667e1f2a1ca8c16f50562576cf90ff32b3179926914daa5.js" integrity="sha256-A7F3afT5GuNWZ&#43;HyocqMFvUFYlds&#43;Q/zKzF5kmkU2qU="></script>
    

    

    

    

    

    

    

    

    
  </body>

</html>
